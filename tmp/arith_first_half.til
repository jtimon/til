mode test

println("DEBUG: Starting arithmetics.til")

// Arithmetic tests

c2      := 2
c4      := 4
c42     := 42
c0      := 0
c1      := 1
cNeg2   := sub(0, 2)
cNeg42  := sub(0, 42)

test(loc(), c42.eq(add(40, 2)), "40 + 2 = 42")
test(loc(), c42.eq(sub(44, 2)), "44 - 2 = 42")
test(loc(), c42.eq(mul(6, 7)), " 6 * 7 = 42")
test(loc(), c42.eq(div(420, 10)), " 420 / 10 = 42")
test(loc(),  c4.eq(add(2, 2)), "2 + 2 = 4")
test(loc(),  c4.eq(mul(2, 2)), "2 * 2 = 4")

// Testing inc and dec (UFCS: val.inc() -> inc(val))
test_inc_dec := proc() {
    mut val := 41
    val.inc() // Equivalent to I64.inc(val)
    test(loc(), val.eq(42), "41.inc() == 42")

    val.dec()
    test(loc(), val.eq(41), "42.dec() == 41")
}
test_inc_dec()

test(loc(), add(40, 2).eq(42), "40 + 2 = 42")
test(loc(), sub(44, 2).eq(42), "44 - 2 = 42")
test(loc(), mul(6, 7).eq(42), "6 * 7 = 42")
test(loc(), div(420, 10).eq(42), "420 / 10 = 42")
test(loc(), add(2, 2).eq(4), "2 + 2 = 4")
test(loc(), mul(2, 2).eq(4), "2 * 2 = 4")

// Additional tests for arithmetic functions
test(loc(), mul(0, 5).eq(0), "0 * 5 = 0")
test(loc(), mul(1, 5).eq(5), "1 * 5 = 5")
test(loc(), div(10, 2).eq(5), "10 / 2 = 5")
test(loc(), div(9, 3).eq(3), "9 / 3 = 3")
test(loc(), sub(5, 2).eq(3), "5 - 2 = 3")
test(loc(), add(0, 0).eq(0), "0 + 0 = 0")
test(loc(), add(1, 1).eq(2), "1 + 1 = 2")

// Negative number tests
test(loc(), add(cNeg42, 100).eq(58), "-42 + 100 = 58")
