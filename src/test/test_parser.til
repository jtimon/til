mode test

import("src/core/parser")

// ==============================================================================
// Data Structure Tests
// ==============================================================================

test_data_structures := proc() {
    // Test FunctionType enum variants
    ft_func := FunctionType.FTFunc
    ft_proc := FunctionType.FTProc

    // Test Literal enum variants
    lit_num := Literal.Number("42")
    lit_str := Literal.Str("hello")
    lit_bool := Literal.Bool("true")
    lit_list := Literal.List("[]")

    // Test PatternInfo struct
    pi := PatternInfo()

    // Test struct creations
    ed := SEnumDef()
    sd := SStructDef()
    fd := SFuncDef()
    vt := ValueType.TCustom("I64")
    decl := Declaration()

    // Test NodeType enum variants
    nt_body := NodeType.Body
    nt_lit := NodeType.LLiteral(lit_num)
    nt_fcall := NodeType.FCall
    nt_id := NodeType.Identifier("x")
    nt_return := NodeType.Return

    // Test Expr struct
    e := Expr()

}
test_data_structures()

test_is_literal := proc() {
    mut t := Token()

    t.token_type = TokenType.String
    assert(loc(), is_literal(t))

    t.token_type = TokenType.Number
    assert(loc(), is_literal(t))

    t.token_type = TokenType.True
    assert(loc(), is_literal(t))

    t.token_type = TokenType.Identifier
    assert(loc(), not(is_literal(t)))
}
test_is_literal()
