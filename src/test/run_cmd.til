mode safe_script

// assertm is in core.assert, auto-imported via core.til

// Ensure tmp/ exists for tests that need temp files
mut out := ""
exit1 := out.run_cmd("mkdir", "-p", "tmp")

// Test: directories in root
// This test enforces root directory stability - update when intentionally changed
// Using explicit paths since safe_script doesn't allow sh for glob expansion
mut dirs := ""
exit2 := dirs.run_cmd("ls", "-d", "bin/", "c/", "doc/", "editor/", "img/", "out/", "src/", "tmp/")
assertm(loc(), dirs.eq("bin/\nc/\ndoc/\neditor/\nimg/\nout/\nsrc/\ntmp/\n"), dirs)
