mode test

// Bug #65: "Source 'X' not found in caller context" with Dynamic parameters
//
// Root cause: Rust/TIL divergence in interpreter
// - Rust shadows custom_type_name with resolved type
// - TIL uses resolved_type_name but switch still uses custom_type_name
//
// This test passes with rstil but fails with til until Bug #65 is fixed.

test_dynamic_param := proc() {
    mut v := Vec.new(I64)
    v.push(10)  // Fails with til: "Source '10' not found in caller context"
    assert_eq(loc(), 1, v.len())
    v.delete()
    catch (err: AllocError) {
        println("ERROR:", loc(), err.msg)
        exit(1)
    }
}
