#+TITLE: Pre-Self-Hosting TODO List
#+AUTHOR: rstil Development
#+DATE: 2025-11-10

* Overview

This document tracks TODOs in the Rust implementation (rstil) that must be completed before the self-hosted til interpreter can run successfully.

Current Status: All documented bugs fixed. Parser homogenization complete. Ready for next phase.

Scope: This focuses on rstil (Rust) implementation issues, NOT on completing the til-based interpreter/typer/etc.

* TODO Active Items

- [ ] Standardize len/cap API across collections (Array has len field, Vec has len+cap fields, Map has size field, Str has len() method)
- [ ] Improve type checking for struct type mismatches (passing Vec where Array expected should error at compile time)
- [ ] Improve test error handling with ERROR: prefix (make unexpected errors more visible in test output)
- [ ] Fix error line numbers from imported files (show correct file paths and line numbers)

* Completed Items

- [X] Improve forward reference error messages (added compile-time validation for undefined types, commit 7bfec12)

* Notes

Focus on rstil, Not til Implementation:
This tracks what the Rust interpreter (rstil) needs to support self-hosting.
Completing interpreter.til, typer.til, etc. is the GOAL of self-hosting, not prerequisites.

Workarounds Are Okay Temporarily:
Some workarounds are acceptable short-term. Priority is getting rstil stable enough to run the self-hosted code.
